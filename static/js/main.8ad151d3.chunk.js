(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){e.exports=n(21)},20:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),l=n(9),o=n.n(l),c=n(11),u=n(1),i=n(2),s=n(4),m=n(3),p=n(5),d=n(12),f=n(6),h=n.n(f),b=n(7),v=n(10),E=n.n(v),y=function(e){var t=e.person,n=e.selected,r=e.onSelected,l=E()("Person","Person--lived-in-".concat(t.century),{"Person--selected":n,"Person--man":"m"===t.sex,"Person--womam":"f"===t.sex,"Person--long-liver":t.age>=65});return a.a.createElement("tr",{className:l,onClick:r},a.a.createElement("td",null,t.id),a.a.createElement("td",null,a.a.createElement(C,{person:t})),a.a.createElement("td",null,t.sex),a.a.createElement("td",null,t.born),a.a.createElement("td",null,t.died),a.a.createElement("td",null,t.age),a.a.createElement("td",null,t.century),a.a.createElement("td",null,t.mother?a.a.createElement(C,{person:t.mother}):"-"),a.a.createElement("td",null,t.father?a.a.createElement(C,{person:t.father}):"-"),a.a.createElement("td",null,a.a.createElement("ul",null,t.children.map(function(e){return a.a.createElement("li",{key:e.id},a.a.createElement(C,{person:e}))}))))},C=function(e){var t=e.person,n={color:"m"===t.sex?"blue":"red"};return a.a.createElement("b",{style:n},t.name)};y.defaultProps={selected:!1,onSelected:function(){}};var j=y,x=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).state={selectedPersonId:null},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.people,r=t.onSortFieldChanged,l=this.state.selectedPersonId;return a.a.createElement("table",{className:"PeopleTable",style:{borderCollapse:"colapse"}},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{onClick:function(){return r("id")}},"ID"),a.a.createElement("th",{onClick:function(){return r("name")}},"Name"),a.a.createElement("th",{onClick:function(){return r("sex")}},"Sex"),a.a.createElement("th",{onClick:function(){return r("born")}},"Born"),a.a.createElement("th",{onClick:function(){return r("died")}},"Died"),a.a.createElement("th",{onClick:function(){return r("age")}},"Age"),a.a.createElement("th",{onClick:function(){return r("century")}},"Century"),a.a.createElement("th",null,"Mother"),a.a.createElement("th",null,"Father"),a.a.createElement("th",null,"Children"))),a.a.createElement("tbody",null,n.map(function(t){return a.a.createElement(j,{key:t.id,person:t,selected:t.id===l,onSelected:function(){e.setState({selectedPersonId:t.id})}})})))}}]),t}(a.a.Component);x.defaultProps={onSortFieldChanged:function(){}};var g=x,P=(n(20),function(){var e=Object(b.a)(h.a.mark(function e(){var t,n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"api/people.json",e.next=3,fetch("api/people.json");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()),O=function(e){return e.map(function(t,n){return Object(d.a)({},t,{id:n+1,age:t.died-t.born,cenrury:Math.ceil(t.died/100),children:e.filter(function(e){return e.mother===t.name||e.father===t.name}).map(function(e){return e.name})})}).map(function(e,t,n){return e.mother=n.find(function(t){return t.name===e.motherName}),e.father=n.find(function(t){return t.name===e.fatherName}),e.children=n.filter(function(t){return t.mother===e.name||t.father===e.name}),e})},S=function(e,t,n){var r=n.toLowerCase();return e.filter(function(e){return e.name.toLowerCase().includes(r)}).sort(function(e,n){var r=e[t],a=n[t];switch(typeof r){case"string":return r.localCompare(a);case"number":case"boolean":return r-a;default:return 0}})},k=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).state={people:[],visiblePeople:[],sortField:"",query:""},n.setSortField=function(e){n.setState(function(t){var n=t.query,r=t.people;return{sortField:e,visiblePeople:S(r,e,n)}})},n.handleQueryChange=function(e){var t=e.target.value;n.setState(function(e){var n=e.people,r=e.sortField;return{query:t,visiblePeople:S(n,r,t)}})},n.addPerson=function(e){n.setState(function(t){var n=t.people,r=t.sortField,a=t.query,l=[].concat(Object(c.a)(n),[e]),o=O(l);return{people:o,visiblePeople:S(o,r,a)}})},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=Object(b.a)(h.a.mark(function e(){var t,n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:t=e.sent,n=O(t),this.setState({people:n,visiblePeople:n});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.visiblePeople,n=e.sortField,r=e.query;return a.a.createElement("div",{className:"App"},a.a.createElement("h1",null,t.length," people are sorted by ",n),a.a.createElement(w,{onSubmit:this.addPerson}),a.a.createElement("input",{type:"text",value:r,onChange:this.handleQueryChange}),a.a.createElement(g,{people:t,onSortFieldChanged:this.setSortField}))}}]),t}(a.a.Component),w=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).handleSubmit=function(e){e.preventDefault();var t=e.target;n.props.onSubmit({name:t.elements.name.value,sex:t.elements.sex.value,mother:t.elements.mother.value,father:t.elements.father.value,born:+t.elements.born.value,died:+t.elements.died.value})},n}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.a.createElement("form",{onSubmit:this.handleSubmit},a.a.createElement("input",{type:"text",name:"name"}),a.a.createElement("input",{type:"text",name:"sex"}),a.a.createElement("input",{type:"text",name:"mother"}),a.a.createElement("input",{type:"text",name:"father"}),a.a.createElement("input",{type:"text",name:"born"}),a.a.createElement("input",{type:"text",name:"died"}),a.a.createElement("button",{type:"submit"},"Add"))}}]),t}(a.a.Component),F=k;o.a.render(a.a.createElement(F,{test:123}),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.8ad151d3.chunk.js.map